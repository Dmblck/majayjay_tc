{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/Majayjay Tourism Circuit/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useRef}from\"react\";import{MapContainer,TileLayer,Marker,Popup,Polyline}from\"react-leaflet\";import L from\"leaflet\";import{useNavigate,useLocation}from\"react-router-dom\";import\"leaflet/dist/leaflet.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const user=JSON.parse(localStorage.getItem(\"user\"));console.log(\"Token:\",user===null||user===void 0?void 0:user.token);const createColoredIcon=color=>new L.Icon({iconUrl:\"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-\".concat(color,\".png\"),shadowUrl:\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});const CATEGORY_COLOR={\"Nature & Outdoors\":\"green\",\"Culture & Heritage\":\"yellow\",\"Farming & Agriculture\":\"orange\",\"Food & Drink\":\"blue\",\"Accommodation & Stay\":\"red\"};const determineCategory=function(){let tags=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";const t=tags.toLowerCase().split(\",\").map(x=>x.trim());if(t.some(x=>[\"history\",\"culture\",\"religion\",\"architecture\",\"spiritual\"].includes(x)))return\"Culture & Heritage\";if(t.some(x=>[\"farm\",\"agri\",\"organic\",\"animal\"].includes(x)))return\"Farming & Agriculture\";if(t.some(x=>[\"resort\",\"motel\",\"hotel\",\"lodge\"].includes(x)))return\"Accommodation & Stay\";if(t.some(x=>[\"restaurant\",\"coffee\",\"food\"].includes(x)))return\"Food & Drink\";return\"Nature & Outdoors\";};export default function RouteDetails(){var _location$state,_location$state2,_location$state3,_location$state4,_location$state5,_selectedPois$activeI,_selectedPois$activeI2,_selectedPois$activeI3,_selectedPois$activeI4,_selectedPois$activeI5,_selectedPois$activeI6;const location=useLocation();const navigate=useNavigate();const filteredPois=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.filteredPois)||[];const startPoint=((_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.startPoint)||null;const routeId=((_location$state3=location.state)===null||_location$state3===void 0?void 0:_location$state3.routeId)||null;const initialPois=((_location$state4=location.state)===null||_location$state4===void 0?void 0:_location$state4.filteredPois)||[];const recommendedPois=((_location$state5=location.state)===null||_location$state5===void 0?void 0:_location$state5.recommendedPois)||[];const[userLocation,setUserLocation]=useState(startPoint);const[selectedPois,setSelectedPois]=useState(routeId?[]:initialPois);const[activeIndex,setActiveIndex]=useState(0);const[tracking,setTracking]=useState(false);const[likedPois,setLikedPois]=useState({});const[draggedIndex,setDraggedIndex]=useState(null);const[selectedPoiDetail,setSelectedPoiDetail]=useState(null);const[routeSegment,setRouteSegment]=useState([]);const mapRef=useRef(null);// ⬅️ Added for flyTo & popup\nconst watchIdRef=useRef(null);const ORS_API_KEY=process.env.REACT_APP_ORS_KEY;// ---------- Get user location ----------\nuseEffect(()=>{if(!startPoint&&\"geolocation\"in navigator){navigator.geolocation.getCurrentPosition(pos=>setUserLocation({lat:pos.coords.latitude,lng:pos.coords.longitude}),()=>setUserLocation({lat:14.1461,lng:121.5012}));}},[startPoint]);// ---------- Fetch route ----------\nconst fetchRoute=async(start,end)=>{try{const res=await fetch(\"https://api.openrouteservice.org/v2/directions/driving-car/geojson\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":ORS_API_KEY},body:JSON.stringify({coordinates:[[start.lng,start.lat],[end.lng,end.lat]]})});const data=await res.json();return data.features[0].geometry.coordinates.map(_ref=>{let[lng,lat]=_ref;return[lat,lng];});}catch(err){console.error(\"Error fetching route:\",err);return[];}};// ---------- Load saved itinerary ----------\nuseEffect(()=>{const fetchSavedRoute=async()=>{if(!routeId||!(user!==null&&user!==void 0&&user.token))return;try{var _data$itinerary;const res=await fetch(\"http://localhost:5000/api/itineraries/\".concat(routeId),{headers:{Authorization:\"Bearer \".concat(user.token)}});const data=await res.json();if(res.ok&&(_data$itinerary=data.itinerary)!==null&&_data$itinerary!==void 0&&_data$itinerary.route_data){setSelectedPois(data.itinerary.route_data);setUserLocation(data.itinerary.startPoint||{lat:14.1461,lng:121.5012});}else{alert(\"Could not load saved route.\");}}catch(err){console.error(\"Error fetching saved route:\",err);alert(\"Error fetching saved route.\");}};fetchSavedRoute();},[routeId,user===null||user===void 0?void 0:user.token]);// ---------- Update live route segment ----------\nuseEffect(()=>{const updateRouteSegment=async()=>{if(!tracking||selectedPois.length===0)return;const start=userLocation;const end=selectedPois[activeIndex];const route=await fetchRoute(start,end);setRouteSegment(route);};updateRouteSegment();},[tracking,activeIndex,userLocation,selectedPois]);// ---------- Like / Dislike ----------\nconst handleLike=async(poiId,liked)=>{try{const token=user===null||user===void 0?void 0:user.token;if(!token)return;const response=await fetch(\"http://localhost:5000/api/user_feedback\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({poi_id:poiId,liked})});const data=await response.json();if(data.success)setLikedPois(prev=>_objectSpread(_objectSpread({},prev),{},{[poiId]:liked}));}catch(err){console.error(\"Error sending feedback:\",err);}};// ---------- Stop tour ----------\nconst stopTour=async function(){let status=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"cancelled\";if(watchIdRef.current)navigator.geolocation.clearWatch(watchIdRef.current);setTracking(false);setActiveIndex(0);setSelectedPoiDetail(null);if(routeId){try{await fetch(\"http://localhost:5000/api/itineraries/\".concat(routeId,\"/status\"),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.token)},body:JSON.stringify({status})});}catch(err){console.error(\"Error updating itinerary status:\",err);}}};// ---------- Next stop ----------\nconst handleNextStop=()=>{if(activeIndex+1<selectedPois.length){setActiveIndex(prev=>prev+1);}else{stopTour(\"finished\");alert(\"Tour finished!\");}};// ---------- Drag and Drop ----------\nconst handleDragStart=index=>setDraggedIndex(index);const handleDrop=index=>{if(draggedIndex===null)return;const items=[...selectedPois];const[removed]=items.splice(draggedIndex,1);items.splice(index,0,removed);setSelectedPois(items);setDraggedIndex(null);};// ---------- Save itinerary ----------\nconst saveItinerary=async()=>{if(!user||!user.token){alert(\"You must be logged in!\");return;}try{const response=await fetch(\"http://localhost:5000/api/itineraries\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.token)},body:JSON.stringify({name:\"My Route\",route_data:selectedPois})});if(!response.ok){const errData=await response.json();console.error(\"Error saving itinerary:\",errData);alert(errData.message||\"Failed to save itinerary\");return;}const data=await response.json();alert(\"Itinerary saved! ID: \"+data.id);}catch(err){console.error(err);alert(\"Server error while saving itinerary\");}};// ---------- Click Recommended Place (fly & popup) ----------\nconst handleRecommendedClick=poi=>{if(!mapRef.current)return;mapRef.current.flyTo([poi.lat,poi.lng],16,{duration:1.2});const popupContent=\"\\n      <div style=\\\"text-align:center;max-width:180px\\\">\\n        <h3 style=\\\"margin:4px 0\\\">\".concat(poi.name,\"</h3>\\n        <p style=\\\"font-size:13px\\\">\").concat(poi.description||\"No description\",\"</p>\\n        \").concat(poi.image?\"<img src=\\\"http://localhost:5000/images/\".concat(poi.image,\"\\\" style=\\\"width:100%;border-radius:8px;margin-top:6px\\\"/>\"):\"\",\"\\n      </div>\\n    \");L.popup().setLatLng([poi.lat,poi.lng]).setContent(popupContent).openOn(mapRef.current);};const isFinished=index=>index<activeIndex;if(!userLocation)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading route...\"});return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1.3fr 0.7fr\",gap:24,padding:24},children:[/*#__PURE__*/_jsx(\"div\",{style:{height:650,borderRadius:18,overflow:\"hidden\"},children:/*#__PURE__*/_jsxs(MapContainer,{center:[userLocation.lat,userLocation.lng],zoom:13,style:{height:\"100%\",width:\"100%\"},whenCreated:mapInstance=>mapRef.current=mapInstance,children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(Marker,{position:[userLocation.lat,userLocation.lng],children:/*#__PURE__*/_jsx(Popup,{children:\"Your Location\"})}),selectedPois.map((poi,i)=>/*#__PURE__*/_jsx(Marker,{position:[poi.lat,poi.lng],icon:createColoredIcon(CATEGORY_COLOR[determineCategory(poi.tags)]||\"blue\"),opacity:isFinished(i)?0.3:1,eventHandlers:{click:()=>setSelectedPoiDetail(poi)},children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:poi.name}),/*#__PURE__*/_jsx(\"p\",{children:poi.description})]})},poi.id)),tracking&&routeSegment.length>0&&/*#__PURE__*/_jsx(Polyline,{positions:routeSegment,color:\"blue\"})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#fff\",borderRadius:18,padding:24,boxShadow:\"0 8px 24px rgba(0,0,0,0.1)\"},children:[!tracking&&recommendedPois.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:24},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"#1976d2\"},children:\"Recommended for You\"}),recommendedPois.map(poi=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleRecommendedClick(poi),style:{marginBottom:12,padding:8,border:\"1px solid #eee\",borderRadius:6,background:\"#fafafa\",cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:poi.name}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:13},children:poi.description})]},poi.id))]}),selectedPoiDetail&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:24},children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedPoiDetail.name}),selectedPoiDetail.image&&/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000/images/\".concat(selectedPoiDetail.image),alt:selectedPoiDetail.name,style:{width:\"100%\",borderRadius:12,marginBottom:12}}),/*#__PURE__*/_jsx(\"p\",{children:selectedPoiDetail.description}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedPoiDetail(null),style:{padding:8,background:\"#1976d2\",color:\"#fff\",border:\"none\",borderRadius:6,cursor:\"pointer\"},children:\"Close\"})]}),!tracking&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Selected POIs\"}),selectedPois.map((poi,index)=>/*#__PURE__*/_jsxs(\"div\",{draggable:true,onDragStart:()=>handleDragStart(index),onDragOver:e=>e.preventDefault(),onDrop:()=>handleDrop(index),style:{marginBottom:12,padding:8,border:\"1px solid #eee\",borderRadius:6,cursor:\"grab\",background:isFinished(index)?\"#f0f0f0\":\"#fafafa\",opacity:isFinished(index)?0.5:1},onClick:()=>setSelectedPoiDetail(poi),children:[/*#__PURE__*/_jsxs(\"strong\",{children:[index+1,\". \",poi.name]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:13},children:poi.description})]},poi.id)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTracking(true),style:{width:\"100%\",padding:12,background:\"#4caf50\",color:\"#fff\",border:\"none\",borderRadius:8,fontWeight:600,cursor:\"pointer\",marginBottom:12},children:\"Start Tour\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveItinerary,style:{width:\"100%\",padding:12,background:\"#1976d2\",color:\"#fff\",border:\"none\",borderRadius:8,fontWeight:600,cursor:\"pointer\"},children:\"Save Route\"})]}),tracking&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Now Visiting:\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[activeIndex+1,\". \",(_selectedPois$activeI=selectedPois[activeIndex])===null||_selectedPois$activeI===void 0?void 0:_selectedPois$activeI.name]}),/*#__PURE__*/_jsx(\"p\",{children:(_selectedPois$activeI2=selectedPois[activeIndex])===null||_selectedPois$activeI2===void 0?void 0:_selectedPois$activeI2.description}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,marginTop:12},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleLike(selectedPois[activeIndex].id,1),style:{flex:1,padding:10,background:likedPois[(_selectedPois$activeI3=selectedPois[activeIndex])===null||_selectedPois$activeI3===void 0?void 0:_selectedPois$activeI3.id]===1?\"#4caf50\":\"#e0e0e0\",color:likedPois[(_selectedPois$activeI4=selectedPois[activeIndex])===null||_selectedPois$activeI4===void 0?void 0:_selectedPois$activeI4.id]===1?\"#fff\":\"#000\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:600},children:\"Like\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleLike(selectedPois[activeIndex].id,0),style:{flex:1,padding:10,background:likedPois[(_selectedPois$activeI5=selectedPois[activeIndex])===null||_selectedPois$activeI5===void 0?void 0:_selectedPois$activeI5.id]===0?\"#f44336\":\"#e0e0e0\",color:likedPois[(_selectedPois$activeI6=selectedPois[activeIndex])===null||_selectedPois$activeI6===void 0?void 0:_selectedPois$activeI6.id]===0?\"#fff\":\"#000\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:600},children:\"Dislike\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextStop,style:{width:\"100%\",padding:12,background:\"#1976d2\",color:\"#fff\",border:\"none\",borderRadius:8,marginTop:12,fontWeight:600,cursor:\"pointer\"},children:\"Next Stop\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>stopTour(\"cancelled\"),style:{width:\"100%\",padding:12,background:\"#f44336\",color:\"#fff\",border:\"none\",borderRadius:8,marginTop:10,fontWeight:600,cursor:\"pointer\"},children:\"Cancel Tour\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/home\"),style:{width:\"100%\",padding:12,background:\"#9e9e9e\",color:\"#fff\",border:\"none\",borderRadius:8,fontWeight:600,cursor:\"pointer\",marginTop:12},children:\"Back to Home\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","MapContainer","TileLayer","Marker","Popup","Polyline","L","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","user","JSON","parse","localStorage","getItem","console","log","token","createColoredIcon","color","Icon","iconUrl","concat","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","CATEGORY_COLOR","determineCategory","tags","arguments","length","undefined","t","toLowerCase","split","map","x","trim","some","includes","RouteDetails","_location$state","_location$state2","_location$state3","_location$state4","_location$state5","_selectedPois$activeI","_selectedPois$activeI2","_selectedPois$activeI3","_selectedPois$activeI4","_selectedPois$activeI5","_selectedPois$activeI6","location","navigate","filteredPois","state","startPoint","routeId","initialPois","recommendedPois","userLocation","setUserLocation","selectedPois","setSelectedPois","activeIndex","setActiveIndex","tracking","setTracking","likedPois","setLikedPois","draggedIndex","setDraggedIndex","selectedPoiDetail","setSelectedPoiDetail","routeSegment","setRouteSegment","mapRef","watchIdRef","ORS_API_KEY","process","env","REACT_APP_ORS_KEY","navigator","geolocation","getCurrentPosition","pos","lat","coords","latitude","lng","longitude","fetchRoute","start","end","res","fetch","method","headers","body","stringify","coordinates","data","json","features","geometry","_ref","err","error","fetchSavedRoute","_data$itinerary","Authorization","ok","itinerary","route_data","alert","updateRouteSegment","route","handleLike","poiId","liked","response","poi_id","success","prev","_objectSpread","stopTour","status","current","clearWatch","handleNextStop","handleDragStart","index","handleDrop","items","removed","splice","saveItinerary","name","errData","message","id","handleRecommendedClick","poi","flyTo","duration","popupContent","description","image","popup","setLatLng","setContent","openOn","isFinished","children","style","display","gridTemplateColumns","gap","padding","height","borderRadius","overflow","center","zoom","width","whenCreated","mapInstance","url","position","i","icon","opacity","eventHandlers","click","positions","background","boxShadow","marginBottom","onClick","border","cursor","margin","fontSize","src","alt","draggable","onDragStart","onDragOver","e","preventDefault","onDrop","fontWeight","marginTop","flex"],"sources":["C:/xampp/htdocs/Majayjay Tourism Circuit/src/pages/RouteDetails.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"user\"));\r\nconsole.log(\"Token:\", user?.token);\r\n\r\nconst createColoredIcon = (color) =>\r\n  new L.Icon({\r\n    iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-${color}.png`,\r\n    shadowUrl:\r\n      \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41],\r\n  });\r\n\r\nconst CATEGORY_COLOR = {\r\n  \"Nature & Outdoors\": \"green\",\r\n  \"Culture & Heritage\": \"yellow\",\r\n  \"Farming & Agriculture\": \"orange\",\r\n  \"Food & Drink\": \"blue\",\r\n  \"Accommodation & Stay\": \"red\",\r\n};\r\n\r\nconst determineCategory = (tags = \"\") => {\r\n  const t = tags.toLowerCase().split(\",\").map((x) => x.trim());\r\n  if (t.some((x) => [\"history\", \"culture\", \"religion\", \"architecture\", \"spiritual\"].includes(x)))\r\n    return \"Culture & Heritage\";\r\n  if (t.some((x) => [\"farm\", \"agri\", \"organic\", \"animal\"].includes(x)))\r\n    return \"Farming & Agriculture\";\r\n  if (t.some((x) => [\"resort\", \"motel\", \"hotel\", \"lodge\"].includes(x)))\r\n    return \"Accommodation & Stay\";\r\n  if (t.some((x) => [\"restaurant\", \"coffee\", \"food\"].includes(x)))\r\n    return \"Food & Drink\";\r\n  return \"Nature & Outdoors\";\r\n};\r\n\r\nexport default function RouteDetails() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const filteredPois = location.state?.filteredPois || [];\r\n  const startPoint = location.state?.startPoint || null;\r\n  const routeId = location.state?.routeId || null;\r\n  const initialPois = location.state?.filteredPois || [];\r\n  const recommendedPois = location.state?.recommendedPois || [];\r\n\r\n  const [userLocation, setUserLocation] = useState(startPoint);\r\n  const [selectedPois, setSelectedPois] = useState(routeId ? [] : initialPois);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [tracking, setTracking] = useState(false);\r\n  const [likedPois, setLikedPois] = useState({});\r\n  const [draggedIndex, setDraggedIndex] = useState(null);\r\n  const [selectedPoiDetail, setSelectedPoiDetail] = useState(null);\r\n  const [routeSegment, setRouteSegment] = useState([]);\r\n\r\n  const mapRef = useRef(null); // ⬅️ Added for flyTo & popup\r\n  const watchIdRef = useRef(null);\r\n  const ORS_API_KEY = process.env.REACT_APP_ORS_KEY;\r\n\r\n  // ---------- Get user location ----------\r\n  useEffect(() => {\r\n    if (!startPoint && \"geolocation\" in navigator) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (pos) => setUserLocation({ lat: pos.coords.latitude, lng: pos.coords.longitude }),\r\n        () => setUserLocation({ lat: 14.1461, lng: 121.5012 })\r\n      );\r\n    }\r\n  }, [startPoint]);\r\n\r\n  // ---------- Fetch route ----------\r\n  const fetchRoute = async (start, end) => {\r\n    try {\r\n      const res = await fetch(\"https://api.openrouteservice.org/v2/directions/driving-car/geojson\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": ORS_API_KEY,\r\n        },\r\n        body: JSON.stringify({\r\n          coordinates: [\r\n            [start.lng, start.lat],\r\n            [end.lng, end.lat],\r\n          ],\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n      return data.features[0].geometry.coordinates.map(([lng, lat]) => [lat, lng]);\r\n    } catch (err) {\r\n      console.error(\"Error fetching route:\", err);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // ---------- Load saved itinerary ----------\r\n  useEffect(() => {\r\n    const fetchSavedRoute = async () => {\r\n      if (!routeId || !user?.token) return;\r\n      try {\r\n        const res = await fetch(`http://localhost:5000/api/itineraries/${routeId}`, {\r\n          headers: { Authorization: `Bearer ${user.token}` },\r\n        });\r\n        const data = await res.json();\r\n        if (res.ok && data.itinerary?.route_data) {\r\n          setSelectedPois(data.itinerary.route_data);\r\n          setUserLocation(data.itinerary.startPoint || { lat: 14.1461, lng: 121.5012 });\r\n        } else {\r\n          alert(\"Could not load saved route.\");\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error fetching saved route:\", err);\r\n        alert(\"Error fetching saved route.\");\r\n      }\r\n    };\r\n    fetchSavedRoute();\r\n  }, [routeId, user?.token]);\r\n\r\n  // ---------- Update live route segment ----------\r\n  useEffect(() => {\r\n    const updateRouteSegment = async () => {\r\n      if (!tracking || selectedPois.length === 0) return;\r\n      const start = userLocation;\r\n      const end = selectedPois[activeIndex];\r\n      const route = await fetchRoute(start, end);\r\n      setRouteSegment(route);\r\n    };\r\n    updateRouteSegment();\r\n  }, [tracking, activeIndex, userLocation, selectedPois]);\r\n\r\n  // ---------- Like / Dislike ----------\r\n  const handleLike = async (poiId, liked) => {\r\n    try {\r\n      const token = user?.token;\r\n      if (!token) return;\r\n      const response = await fetch(\"http://localhost:5000/api/user_feedback\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ poi_id: poiId, liked }),\r\n      });\r\n      const data = await response.json();\r\n      if (data.success) setLikedPois((prev) => ({ ...prev, [poiId]: liked }));\r\n    } catch (err) {\r\n      console.error(\"Error sending feedback:\", err);\r\n    }\r\n  };\r\n\r\n  // ---------- Stop tour ----------\r\n  const stopTour = async (status = \"cancelled\") => {\r\n    if (watchIdRef.current) navigator.geolocation.clearWatch(watchIdRef.current);\r\n    setTracking(false);\r\n    setActiveIndex(0);\r\n    setSelectedPoiDetail(null);\r\n\r\n    if (routeId) {\r\n      try {\r\n        await fetch(`http://localhost:5000/api/itineraries/${routeId}/status`, {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n          body: JSON.stringify({ status }),\r\n        });\r\n      } catch (err) {\r\n        console.error(\"Error updating itinerary status:\", err);\r\n      }\r\n    }\r\n  };\r\n\r\n  // ---------- Next stop ----------\r\n  const handleNextStop = () => {\r\n    if (activeIndex + 1 < selectedPois.length) {\r\n      setActiveIndex((prev) => prev + 1);\r\n    } else {\r\n      stopTour(\"finished\");\r\n      alert(\"Tour finished!\");\r\n    }\r\n  };\r\n\r\n  // ---------- Drag and Drop ----------\r\n  const handleDragStart = (index) => setDraggedIndex(index);\r\n  const handleDrop = (index) => {\r\n    if (draggedIndex === null) return;\r\n    const items = [...selectedPois];\r\n    const [removed] = items.splice(draggedIndex, 1);\r\n    items.splice(index, 0, removed);\r\n    setSelectedPois(items);\r\n    setDraggedIndex(null);\r\n  };\r\n\r\n  // ---------- Save itinerary ----------\r\n  const saveItinerary = async () => {\r\n    if (!user || !user.token) {\r\n      alert(\"You must be logged in!\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/itineraries\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          name: \"My Route\",\r\n          route_data: selectedPois,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errData = await response.json();\r\n        console.error(\"Error saving itinerary:\", errData);\r\n        alert(errData.message || \"Failed to save itinerary\");\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      alert(\"Itinerary saved! ID: \" + data.id);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Server error while saving itinerary\");\r\n    }\r\n  };\r\n\r\n  // ---------- Click Recommended Place (fly & popup) ----------\r\n  const handleRecommendedClick = (poi) => {\r\n    if (!mapRef.current) return;\r\n    mapRef.current.flyTo([poi.lat, poi.lng], 16, { duration: 1.2 });\r\n\r\n    const popupContent = `\r\n      <div style=\"text-align:center;max-width:180px\">\r\n        <h3 style=\"margin:4px 0\">${poi.name}</h3>\r\n        <p style=\"font-size:13px\">${poi.description || \"No description\"}</p>\r\n        ${poi.image ? `<img src=\"http://localhost:5000/images/${poi.image}\" style=\"width:100%;border-radius:8px;margin-top:6px\"/>` : \"\"}\r\n      </div>\r\n    `;\r\n\r\n    L.popup()\r\n      .setLatLng([poi.lat, poi.lng])\r\n      .setContent(popupContent)\r\n      .openOn(mapRef.current);\r\n  };\r\n\r\n  const isFinished = (index) => index < activeIndex;\r\n\r\n  if (!userLocation) return <p>Loading route...</p>;\r\n\r\n  return (\r\n    <div style={{ display: \"grid\", gridTemplateColumns: \"1.3fr 0.7fr\", gap: 24, padding: 24 }}>\r\n      {/* ---------- Map ---------- */}\r\n      <div style={{ height: 650, borderRadius: 18, overflow: \"hidden\" }}>\r\n        <MapContainer\r\n          center={[userLocation.lat, userLocation.lng]}\r\n          zoom={13}\r\n          style={{ height: \"100%\", width: \"100%\" }}\r\n          whenCreated={(mapInstance) => (mapRef.current = mapInstance)}\r\n        >\r\n          <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n          <Marker position={[userLocation.lat, userLocation.lng]}>\r\n            <Popup>Your Location</Popup>\r\n          </Marker>\r\n\r\n          {selectedPois.map((poi, i) => (\r\n            <Marker\r\n              key={poi.id}\r\n              position={[poi.lat, poi.lng]}\r\n              icon={createColoredIcon(CATEGORY_COLOR[determineCategory(poi.tags)] || \"blue\")}\r\n              opacity={isFinished(i) ? 0.3 : 1}\r\n              eventHandlers={{ click: () => setSelectedPoiDetail(poi) }}\r\n            >\r\n              <Popup>\r\n                <strong>{poi.name}</strong>\r\n                <p>{poi.description}</p>\r\n              </Popup>\r\n            </Marker>\r\n          ))}\r\n\r\n          {tracking && routeSegment.length > 0 && <Polyline positions={routeSegment} color=\"blue\" />}\r\n        </MapContainer>\r\n      </div>\r\n\r\n      {/* ---------- Sidebar ---------- */}\r\n      <div style={{ background: \"#fff\", borderRadius: 18, padding: 24, boxShadow: \"0 8px 24px rgba(0,0,0,0.1)\" }}>\r\n        {!tracking && recommendedPois.length > 0 && (\r\n          <div style={{ marginBottom: 24 }}>\r\n            <h2 style={{ color: \"#1976d2\" }}>Recommended for You</h2>\r\n            {recommendedPois.map((poi) => (\r\n              <div\r\n                key={poi.id}\r\n                onClick={() => handleRecommendedClick(poi)}\r\n                style={{\r\n                  marginBottom: 12,\r\n                  padding: 8,\r\n                  border: \"1px solid #eee\",\r\n                  borderRadius: 6,\r\n                  background: \"#fafafa\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n              >\r\n                <strong>{poi.name}</strong>\r\n                <p style={{ margin: 0, fontSize: 13 }}>{poi.description}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {selectedPoiDetail && (\r\n          <div style={{ marginBottom: 24 }}>\r\n            <h3>{selectedPoiDetail.name}</h3>\r\n            {selectedPoiDetail.image && (\r\n              <img\r\n                src={`http://localhost:5000/images/${selectedPoiDetail.image}`}\r\n                alt={selectedPoiDetail.name}\r\n                style={{ width: \"100%\", borderRadius: 12, marginBottom: 12 }}\r\n              />\r\n            )}\r\n            <p>{selectedPoiDetail.description}</p>\r\n            <button\r\n              onClick={() => setSelectedPoiDetail(null)}\r\n              style={{\r\n                padding: 8,\r\n                background: \"#1976d2\",\r\n                color: \"#fff\",\r\n                border: \"none\",\r\n                borderRadius: 6,\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {!tracking && (\r\n          <>\r\n            <h2>Selected POIs</h2>\r\n            {selectedPois.map((poi, index) => (\r\n              <div\r\n                key={poi.id}\r\n                draggable\r\n                onDragStart={() => handleDragStart(index)}\r\n                onDragOver={(e) => e.preventDefault()}\r\n                onDrop={() => handleDrop(index)}\r\n                style={{\r\n                  marginBottom: 12,\r\n                  padding: 8,\r\n                  border: \"1px solid #eee\",\r\n                  borderRadius: 6,\r\n                  cursor: \"grab\",\r\n                  background: isFinished(index) ? \"#f0f0f0\" : \"#fafafa\",\r\n                  opacity: isFinished(index) ? 0.5 : 1,\r\n                }}\r\n                onClick={() => setSelectedPoiDetail(poi)}\r\n              >\r\n                <strong>{index + 1}. {poi.name}</strong>\r\n                <p style={{ margin: 0, fontSize: 13 }}>{poi.description}</p>\r\n              </div>\r\n            ))}\r\n            <button\r\n              onClick={() => setTracking(true)}\r\n              style={{\r\n                width: \"100%\",\r\n                padding: 12,\r\n                background: \"#4caf50\",\r\n                color: \"#fff\",\r\n                border: \"none\",\r\n                borderRadius: 8,\r\n                fontWeight: 600,\r\n                cursor: \"pointer\",\r\n                marginBottom: 12,\r\n              }}\r\n            >\r\n              Start Tour\r\n            </button>\r\n            <button\r\n              onClick={saveItinerary}\r\n              style={{\r\n                width: \"100%\",\r\n                padding: 12,\r\n                background: \"#1976d2\",\r\n                color: \"#fff\",\r\n                border: \"none\",\r\n                borderRadius: 8,\r\n                fontWeight: 600,\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              Save Route\r\n            </button>\r\n          </>\r\n        )}\r\n\r\n        {tracking && (\r\n          <>\r\n            <h3>Now Visiting:</h3>\r\n            <strong>{activeIndex + 1}. {selectedPois[activeIndex]?.name}</strong>\r\n            <p>{selectedPois[activeIndex]?.description}</p>\r\n            <div style={{ display: \"flex\", gap: 8, marginTop: 12 }}>\r\n              <button\r\n                onClick={() => handleLike(selectedPois[activeIndex].id, 1)}\r\n                style={{\r\n                  flex: 1,\r\n                  padding: 10,\r\n                  background: likedPois[selectedPois[activeIndex]?.id] === 1 ? \"#4caf50\" : \"#e0e0e0\",\r\n                  color: likedPois[selectedPois[activeIndex]?.id] === 1 ? \"#fff\" : \"#000\",\r\n                  border: \"none\",\r\n                  borderRadius: 6,\r\n                  cursor: \"pointer\",\r\n                  fontWeight: 600,\r\n                }}\r\n              >\r\n                Like\r\n              </button>\r\n              <button\r\n                onClick={() => handleLike(selectedPois[activeIndex].id, 0)}\r\n                style={{\r\n                  flex: 1,\r\n                  padding: 10,\r\n                  background: likedPois[selectedPois[activeIndex]?.id] === 0 ? \"#f44336\" : \"#e0e0e0\",\r\n                  color: likedPois[selectedPois[activeIndex]?.id] === 0 ? \"#fff\" : \"#000\",\r\n                  border: \"none\",\r\n                  borderRadius: 6,\r\n                  cursor: \"pointer\",\r\n                  fontWeight: 600,\r\n                }}\r\n              >\r\n                Dislike\r\n              </button>\r\n            </div>\r\n            <button\r\n              onClick={handleNextStop}\r\n              style={{\r\n                width: \"100%\",\r\n                padding: 12,\r\n                background: \"#1976d2\",\r\n                color: \"#fff\",\r\n                border: \"none\",\r\n                borderRadius: 8,\r\n                marginTop: 12,\r\n                fontWeight: 600,\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              Next Stop\r\n            </button>\r\n            <button\r\n              onClick={() => stopTour(\"cancelled\")}\r\n              style={{\r\n                width: \"100%\",\r\n                padding: 12,\r\n                background: \"#f44336\",\r\n                color: \"#fff\",\r\n                border: \"none\",\r\n                borderRadius: 8,\r\n                marginTop: 10,\r\n                fontWeight: 600,\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              Cancel Tour\r\n            </button>\r\n          </>\r\n        )}\r\n\r\n        <button\r\n          onClick={() => navigate(\"/home\")}\r\n          style={{\r\n            width: \"100%\",\r\n            padding: 12,\r\n            background: \"#9e9e9e\",\r\n            color: \"#fff\",\r\n            border: \"none\",\r\n            borderRadius: 8,\r\n            fontWeight: 600,\r\n            cursor: \"pointer\",\r\n            marginTop: 12,\r\n          }}\r\n        >\r\n          Back to Home\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}