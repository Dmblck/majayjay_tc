{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import{MapContainer,TileLayer,Marker,Popup,Polyline}from\"react-leaflet\";import\"leaflet/dist/leaflet.css\";import L from\"leaflet\";import{useNavigate,useLocation}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function RouteDetails(){var _location$state;const location=useLocation();const navigate=useNavigate();const routeSpots=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.itinerary)||[];const[segments,setSegments]=useState([]);const[loading,setLoading]=useState(true);const[poiDetails,setPoiDetails]=useState([]);const[saving,setSaving]=useState(false);const[saveMessage,setSaveMessage]=useState(\"\");const[status,setStatus]=useState(\"pending\");// üü¢ Added: itinerary status state\nconst mapRef=useRef(null);const ORS_API_KEY=\"eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6ImJhNWU3NmIxOTRmMzQyYTg4NzY4MDc2MzVmZDY1ZDRhIiwiaCI6Im11cm11cjY0In0=\";// üîµ Custom numbered icon\nconst numberedIcon=number=>L.divIcon({html:\"<div style=\\\"\\n        background:#1976d2;\\n        color:#fff;\\n        width:28px;\\n        height:28px;\\n        border-radius:50%;\\n        text-align:center;\\n        line-height:28px;\\n        font-weight:600;\\n        border:2px solid #fff;\\n        box-shadow:0 2px 6px rgba(0,0,0,0.3);\\n      \\\">\".concat(number,\"</div>\"),className:\"\",iconSize:[28,28]});// üó∫Ô∏è Fetch POIs from DB\nconst fetchPoiDetails=async()=>{try{const res=await fetch(\"http://localhost:5000/api/pois\");const data=await res.json();const matched=routeSpots.map(spot=>data.find(poi=>poi.name===spot.name||poi.id===spot.id));setPoiDetails(matched);}catch(err){console.error(\"Error fetching POI details:\",err);}};// üõ£Ô∏è Build route segments\nconst snapToRoad=async poi=>{try{var _data$snappedLocation;const res=await fetch(\"https://api.openrouteservice.org/v2/snap/driving-car\",{method:\"POST\",headers:{Authorization:ORS_API_KEY,\"Content-Type\":\"application/json\"},body:JSON.stringify({coordinates:[[poi.lng,poi.lat]]})});const data=await res.json();if((_data$snappedLocation=data.snappedLocations)!==null&&_data$snappedLocation!==void 0&&_data$snappedLocation.length){const[lng,lat]=data.snappedLocations[0].location;return{lat,lng};}return poi;}catch(_unused){return poi;}};const fetchRouteSegment=async(from,to)=>{if(!from||!to)return null;const snappedFrom=await snapToRoad(from);const snappedTo=await snapToRoad(to);try{var _data$features;const res=await fetch(\"https://api.openrouteservice.org/v2/directions/driving-car/geojson\",{method:\"POST\",headers:{Authorization:ORS_API_KEY,\"Content-Type\":\"application/json\"},body:JSON.stringify({coordinates:[[snappedFrom.lng,snappedFrom.lat],[snappedTo.lng,snappedTo.lat]],preference:\"fastest\",instructions:false})});const data=await res.json();if((_data$features=data.features)!==null&&_data$features!==void 0&&_data$features.length){const coords=data.features[0].geometry.coordinates.map(_ref=>{let[lng,lat]=_ref;return[lat,lng];});const summary=data.features[0].properties.summary;return{coords,summary};}}catch(_unused2){return{coords:[[from.lat,from.lng],[to.lat,to.lng]],summary:{distance:0,duration:0}};}};useEffect(()=>{const loadAllSegments=async()=>{setLoading(true);await fetchPoiDetails();const segs=[];for(let i=0;i<routeSpots.length-1;i++){const seg=await fetchRouteSegment(routeSpots[i],routeSpots[i+1]);if(seg)segs.push(seg);}setSegments(segs);setLoading(false);};if(routeSpots.length>1)loadAllSegments();},[routeSpots]);const handleZoomToPoi=poi=>{if(mapRef.current){const map=mapRef.current;map.setView([poi.lat,poi.lng],16,{animate:true});}};const formatDistance=meters=>\"\".concat((meters/1000).toFixed(2),\" km\");const formatDuration=seconds=>\"\".concat(Math.floor(seconds/60),\" min\");// üíæ Save itinerary to database\nconst handleSaveItinerary=async()=>{const token=localStorage.getItem(\"token\");if(!token){alert(\"Please log in to save itineraries.\");return;}setSaving(true);setSaveMessage(\"\");try{const res=await fetch(\"http://localhost:5000/api/itineraries\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({name:\"Route - \".concat(new Date().toLocaleDateString()),route_data:routeSpots,status:\"pending\"// üü¢ Added: default status\n})});const data=await res.json();if(res.ok){setSaveMessage(\"‚úÖ Itinerary saved successfully!\");setStatus(\"pending\");// üü¢ Added: update local status\n}else{setSaveMessage(\"\\u274C Failed to save: \".concat(data.message||\"Unknown error\"));}}catch(err){setSaveMessage(\"‚ùå Server error while saving itinerary.\");}finally{setSaving(false);setTimeout(()=>setSaveMessage(\"\"),4000);}};// üü¢ Added: Fetch itinerary status (if existing)\nuseEffect(()=>{const fetchStatus=async()=>{try{const res=await fetch(\"http://localhost:5000/api/itineraries/status\");if(!res.ok)return;const data=await res.json();if(data!==null&&data!==void 0&&data.status)setStatus(data.status);}catch(err){console.warn(\"No existing itinerary status found.\");}};fetchStatus();},[]);if(!routeSpots.length)return/*#__PURE__*/_jsx(\"p\",{children:\"No route available.\"});return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1.3fr 0.7fr\",gap:\"24px\",padding:\"24px\",minHeight:\"100vh\",background:\"linear-gradient(to bottom right, #e3f2fd, #e8f5e9)\",fontFamily:\"'Poppins', sans-serif\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{height:\"650px\",borderRadius:\"18px\",overflow:\"hidden\",boxShadow:\"0 10px 25px rgba(0,0,0,0.15)\",border:\"4px solid #fff\"},children:loading?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",marginTop:\"40%\",fontWeight:\"500\",color:\"#555\"},children:\"Loading route and POI data...\"}):/*#__PURE__*/_jsxs(MapContainer,{ref:mapRef,center:[routeSpots[0].lat,routeSpots[0].lng],zoom:13,style:{height:\"100%\",width:\"100%\"},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 OpenStreetMap contributors\"}),segments.map((seg,i)=>/*#__PURE__*/_jsx(Polyline,{positions:seg.coords,color:\"#1976d2\",weight:5,opacity:0.9},i)),routeSpots.map((poi,i)=>{const details=poiDetails[i];return/*#__PURE__*/_jsx(Marker,{position:[poi.lat,poi.lng],icon:numberedIcon(i+1),children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Stop \",i+1,\": \",(details===null||details===void 0?void 0:details.name)||poi.name]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"0.9rem\",margin:\"6px 0\"},children:(details===null||details===void 0?void 0:details.description)||\"No description available.\"}),(details===null||details===void 0?void 0:details.image)&&/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000/images/\".concat(details.image),alt:details.name,style:{width:\"160px\",borderRadius:\"8px\",marginTop:\"6px\"}}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"0.85rem\",marginTop:\"8px\"},children:[\"\\uD83D\\uDC65 Visitors: \",(details===null||details===void 0?void 0:details.visitors)||\"N/A\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uD83C\\uDFF7 Tags: \",(details===null||details===void 0?void 0:details.tags)||\"None\"]})]})},i);})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#fff\",borderRadius:\"18px\",padding:\"24px\",boxShadow:\"0 8px 24px rgba(0,0,0,0.1)\",border:\"1px solid #e0e0e0\",overflowY:\"auto\",maxHeight:\"650px\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"#1565c0\",fontWeight:\"700\",marginBottom:\"16px\"},children:\"Route Overview\"}),/*#__PURE__*/_jsxs(\"p\",{style:{background:status===\"finished\"?\"#d1fae5\":status===\"cancelled\"?\"#fee2e2\":\"#fef9c3\",color:status===\"finished\"?\"#065f46\":status===\"cancelled\"?\"#991b1b\":\"#92400e\",padding:\"8px 12px\",borderRadius:\"8px\",fontWeight:\"600\",marginBottom:\"16px\"},children:[\"Status: \",status.toUpperCase()]}),poiDetails.map((poi,i)=>{const seg=segments[i];if(!poi)return null;return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleZoomToPoi(routeSpots[i]),style:{marginBottom:\"20px\",borderBottom:\"1px solid #e0e0e0\",paddingBottom:\"16px\",cursor:\"pointer\",transition:\"background 0.3s\"},onMouseEnter:e=>e.currentTarget.style.background=\"#f1f8ff\",onMouseLeave:e=>e.currentTarget.style.background=\"transparent\",children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:\"#1976d2\",fontWeight:\"600\"},children:[\"Stop \",i+1,\": \",poi.name]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#444\"},children:poi.description}),poi.image&&/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000/images/\".concat(poi.image),alt:poi.name,style:{width:\"100%\",maxWidth:\"280px\",borderRadius:\"10px\",boxShadow:\"0 6px 12px rgba(0,0,0,0.1)\",marginBottom:\"8px\"}}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:\"6px 0\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Visitors:\"}),\" \",poi.visitors||\"N/A\",\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Tags:\"}),\" \",poi.tags||\"None\"]}),seg&&/*#__PURE__*/_jsxs(\"p\",{style:{margin:0},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"To next stop:\"}),\" \",formatDistance(seg.summary.distance),\",\",\" \",formatDuration(seg.summary.duration)]})]},i);}),status===\"pending\"&&/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveItinerary,disabled:saving,style:{width:\"100%\",padding:\"12px 20px\",background:saving?\"#ccc\":\"#1976d2\",color:\"#fff\",border:\"none\",borderRadius:\"8px\",fontWeight:\"600\",cursor:\"pointer\",marginTop:\"12px\"},children:saving?\"Saving...\":\"üíæ Save This Route\"}),saveMessage&&/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"10px\",textAlign:\"center\",color:\"#1565c0\"},children:saveMessage}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/home\"),style:{width:\"100%\",padding:\"12px 20px\",background:\"#4caf50\",color:\"#fff\",border:\"none\",borderRadius:\"8px\",fontWeight:\"600\",cursor:\"pointer\",marginTop:\"10px\"},children:\"Back to Home\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","MapContainer","TileLayer","Marker","Popup","Polyline","L","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","RouteDetails","_location$state","location","navigate","routeSpots","state","itinerary","segments","setSegments","loading","setLoading","poiDetails","setPoiDetails","saving","setSaving","saveMessage","setSaveMessage","status","setStatus","mapRef","ORS_API_KEY","numberedIcon","number","divIcon","html","concat","className","iconSize","fetchPoiDetails","res","fetch","data","json","matched","map","spot","find","poi","name","id","err","console","error","snapToRoad","_data$snappedLocation","method","headers","Authorization","body","JSON","stringify","coordinates","lng","lat","snappedLocations","length","_unused","fetchRouteSegment","from","to","snappedFrom","snappedTo","_data$features","preference","instructions","features","coords","geometry","_ref","summary","properties","_unused2","distance","duration","loadAllSegments","segs","i","seg","push","handleZoomToPoi","current","setView","animate","formatDistance","meters","toFixed","formatDuration","seconds","Math","floor","handleSaveItinerary","token","localStorage","getItem","alert","Date","toLocaleDateString","route_data","ok","message","setTimeout","fetchStatus","warn","children","style","display","gridTemplateColumns","gap","padding","minHeight","background","fontFamily","height","borderRadius","overflow","boxShadow","border","textAlign","marginTop","fontWeight","color","ref","center","zoom","width","url","attribution","positions","weight","opacity","details","position","icon","fontSize","margin","description","image","src","alt","visitors","tags","overflowY","maxHeight","marginBottom","toUpperCase","onClick","borderBottom","paddingBottom","cursor","transition","onMouseEnter","e","currentTarget","onMouseLeave","maxWidth","disabled"],"sources":["C:/xampp/htdocs/Majayjay Tourism Circuit/src/pages/RouteDetails.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nexport default function RouteDetails() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const routeSpots = location.state?.itinerary || [];\r\n\r\n  const [segments, setSegments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [poiDetails, setPoiDetails] = useState([]);\r\n  const [saving, setSaving] = useState(false);\r\n  const [saveMessage, setSaveMessage] = useState(\"\");\r\n  const [status, setStatus] = useState(\"pending\"); // üü¢ Added: itinerary status state\r\n\r\n  const mapRef = useRef(null);\r\n\r\n  const ORS_API_KEY =\r\n    \"eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6ImJhNWU3NmIxOTRmMzQyYTg4NzY4MDc2MzVmZDY1ZDRhIiwiaCI6Im11cm11cjY0In0=\";\r\n\r\n  // üîµ Custom numbered icon\r\n  const numberedIcon = (number) =>\r\n    L.divIcon({\r\n      html: `<div style=\"\r\n        background:#1976d2;\r\n        color:#fff;\r\n        width:28px;\r\n        height:28px;\r\n        border-radius:50%;\r\n        text-align:center;\r\n        line-height:28px;\r\n        font-weight:600;\r\n        border:2px solid #fff;\r\n        box-shadow:0 2px 6px rgba(0,0,0,0.3);\r\n      \">${number}</div>`,\r\n      className: \"\",\r\n      iconSize: [28, 28],\r\n    });\r\n\r\n  // üó∫Ô∏è Fetch POIs from DB\r\n  const fetchPoiDetails = async () => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/pois\");\r\n      const data = await res.json();\r\n\r\n      const matched = routeSpots.map((spot) =>\r\n        data.find((poi) => poi.name === spot.name || poi.id === spot.id)\r\n      );\r\n      setPoiDetails(matched);\r\n    } catch (err) {\r\n      console.error(\"Error fetching POI details:\", err);\r\n    }\r\n  };\r\n\r\n  // üõ£Ô∏è Build route segments\r\n  const snapToRoad = async (poi) => {\r\n    try {\r\n      const res = await fetch(\"https://api.openrouteservice.org/v2/snap/driving-car\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: ORS_API_KEY,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ coordinates: [[poi.lng, poi.lat]] }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.snappedLocations?.length) {\r\n        const [lng, lat] = data.snappedLocations[0].location;\r\n        return { lat, lng };\r\n      }\r\n      return poi;\r\n    } catch {\r\n      return poi;\r\n    }\r\n  };\r\n\r\n  const fetchRouteSegment = async (from, to) => {\r\n    if (!from || !to) return null;\r\n    const snappedFrom = await snapToRoad(from);\r\n    const snappedTo = await snapToRoad(to);\r\n    try {\r\n      const res = await fetch(\"https://api.openrouteservice.org/v2/directions/driving-car/geojson\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: ORS_API_KEY,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          coordinates: [\r\n            [snappedFrom.lng, snappedFrom.lat],\r\n            [snappedTo.lng, snappedTo.lat],\r\n          ],\r\n          preference: \"fastest\",\r\n          instructions: false,\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.features?.length) {\r\n        const coords = data.features[0].geometry.coordinates.map(([lng, lat]) => [lat, lng]);\r\n        const summary = data.features[0].properties.summary;\r\n        return { coords, summary };\r\n      }\r\n    } catch {\r\n      return {\r\n        coords: [\r\n          [from.lat, from.lng],\r\n          [to.lat, to.lng],\r\n        ],\r\n        summary: { distance: 0, duration: 0 },\r\n      };\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadAllSegments = async () => {\r\n      setLoading(true);\r\n      await fetchPoiDetails();\r\n\r\n      const segs = [];\r\n      for (let i = 0; i < routeSpots.length - 1; i++) {\r\n        const seg = await fetchRouteSegment(routeSpots[i], routeSpots[i + 1]);\r\n        if (seg) segs.push(seg);\r\n      }\r\n      setSegments(segs);\r\n      setLoading(false);\r\n    };\r\n    if (routeSpots.length > 1) loadAllSegments();\r\n  }, [routeSpots]);\r\n\r\n  const handleZoomToPoi = (poi) => {\r\n    if (mapRef.current) {\r\n      const map = mapRef.current;\r\n      map.setView([poi.lat, poi.lng], 16, { animate: true });\r\n    }\r\n  };\r\n\r\n  const formatDistance = (meters) => `${(meters / 1000).toFixed(2)} km`;\r\n  const formatDuration = (seconds) => `${Math.floor(seconds / 60)} min`;\r\n\r\n  // üíæ Save itinerary to database\r\n  const handleSaveItinerary = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      alert(\"Please log in to save itineraries.\");\r\n      return;\r\n    }\r\n\r\n    setSaving(true);\r\n    setSaveMessage(\"\");\r\n\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/itineraries\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          name: `Route - ${new Date().toLocaleDateString()}`,\r\n          route_data: routeSpots,\r\n          status: \"pending\", // üü¢ Added: default status\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        setSaveMessage(\"‚úÖ Itinerary saved successfully!\");\r\n        setStatus(\"pending\"); // üü¢ Added: update local status\r\n      } else {\r\n        setSaveMessage(`‚ùå Failed to save: ${data.message || \"Unknown error\"}`);\r\n      }\r\n    } catch (err) {\r\n      setSaveMessage(\"‚ùå Server error while saving itinerary.\");\r\n    } finally {\r\n      setSaving(false);\r\n      setTimeout(() => setSaveMessage(\"\"), 4000);\r\n    }\r\n  };\r\n\r\n  // üü¢ Added: Fetch itinerary status (if existing)\r\n  useEffect(() => {\r\n    const fetchStatus = async () => {\r\n      try {\r\n        const res = await fetch(\"http://localhost:5000/api/itineraries/status\");\r\n        if (!res.ok) return;\r\n        const data = await res.json();\r\n        if (data?.status) setStatus(data.status);\r\n      } catch (err) {\r\n        console.warn(\"No existing itinerary status found.\");\r\n      }\r\n    };\r\n    fetchStatus();\r\n  }, []);\r\n\r\n  if (!routeSpots.length) return <p>No route available.</p>;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"grid\",\r\n        gridTemplateColumns: \"1.3fr 0.7fr\",\r\n        gap: \"24px\",\r\n        padding: \"24px\",\r\n        minHeight: \"100vh\",\r\n        background: \"linear-gradient(to bottom right, #e3f2fd, #e8f5e9)\",\r\n        fontFamily: \"'Poppins', sans-serif\",\r\n      }}\r\n    >\r\n      {/* üó∫Ô∏è Map */}\r\n      <div\r\n        style={{\r\n          height: \"650px\",\r\n          borderRadius: \"18px\",\r\n          overflow: \"hidden\",\r\n          boxShadow: \"0 10px 25px rgba(0,0,0,0.15)\",\r\n          border: \"4px solid #fff\",\r\n        }}\r\n      >\r\n        {loading ? (\r\n          <p style={{ textAlign: \"center\", marginTop: \"40%\", fontWeight: \"500\", color: \"#555\" }}>\r\n            Loading route and POI data...\r\n          </p>\r\n        ) : (\r\n          <MapContainer\r\n            ref={mapRef}\r\n            center={[routeSpots[0].lat, routeSpots[0].lng]}\r\n            zoom={13}\r\n            style={{ height: \"100%\", width: \"100%\" }}\r\n          >\r\n            <TileLayer\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n              attribution=\"¬© OpenStreetMap contributors\"\r\n            />\r\n\r\n            {/* Route lines */}\r\n            {segments.map((seg, i) => (\r\n              <Polyline key={i} positions={seg.coords} color=\"#1976d2\" weight={5} opacity={0.9} />\r\n            ))}\r\n\r\n            {/* Markers */}\r\n            {routeSpots.map((poi, i) => {\r\n              const details = poiDetails[i];\r\n              return (\r\n                <Marker key={i} position={[poi.lat, poi.lng]} icon={numberedIcon(i + 1)}>\r\n                  <Popup>\r\n                    <strong>\r\n                      Stop {i + 1}: {details?.name || poi.name}\r\n                    </strong>\r\n                    <p style={{ fontSize: \"0.9rem\", margin: \"6px 0\" }}>\r\n                      {details?.description || \"No description available.\"}\r\n                    </p>\r\n                    {details?.image && (\r\n                      <img\r\n                        src={`http://localhost:5000/images/${details.image}`}\r\n                        alt={details.name}\r\n                        style={{\r\n                          width: \"160px\",\r\n                          borderRadius: \"8px\",\r\n                          marginTop: \"6px\",\r\n                        }}\r\n                      />\r\n                    )}\r\n                    <p style={{ fontSize: \"0.85rem\", marginTop: \"8px\" }}>\r\n                      üë• Visitors: {details?.visitors || \"N/A\"}\r\n                      <br />\r\n                      üè∑ Tags: {details?.tags || \"None\"}\r\n                    </p>\r\n                  </Popup>\r\n                </Marker>\r\n              );\r\n            })}\r\n          </MapContainer>\r\n        )}\r\n      </div>\r\n\r\n      {/* üìã Sidebar */}\r\n      <div\r\n        style={{\r\n          background: \"#fff\",\r\n          borderRadius: \"18px\",\r\n          padding: \"24px\",\r\n          boxShadow: \"0 8px 24px rgba(0,0,0,0.1)\",\r\n          border: \"1px solid #e0e0e0\",\r\n          overflowY: \"auto\",\r\n          maxHeight: \"650px\",\r\n        }}\r\n      >\r\n        <h2 style={{ color: \"#1565c0\", fontWeight: \"700\", marginBottom: \"16px\" }}>\r\n          Route Overview\r\n        </h2>\r\n\r\n        {/* üü¢ Added: Show itinerary status */}\r\n        <p\r\n          style={{\r\n            background:\r\n              status === \"finished\"\r\n                ? \"#d1fae5\"\r\n                : status === \"cancelled\"\r\n                ? \"#fee2e2\"\r\n                : \"#fef9c3\",\r\n            color:\r\n              status === \"finished\"\r\n                ? \"#065f46\"\r\n                : status === \"cancelled\"\r\n                ? \"#991b1b\"\r\n                : \"#92400e\",\r\n            padding: \"8px 12px\",\r\n            borderRadius: \"8px\",\r\n            fontWeight: \"600\",\r\n            marginBottom: \"16px\",\r\n          }}\r\n        >\r\n          Status: {status.toUpperCase()}\r\n        </p>\r\n\r\n        {poiDetails.map((poi, i) => {\r\n          const seg = segments[i];\r\n          if (!poi) return null;\r\n          return (\r\n            <div\r\n              key={i}\r\n              onClick={() => handleZoomToPoi(routeSpots[i])}\r\n              style={{\r\n                marginBottom: \"20px\",\r\n                borderBottom: \"1px solid #e0e0e0\",\r\n                paddingBottom: \"16px\",\r\n                cursor: \"pointer\",\r\n                transition: \"background 0.3s\",\r\n              }}\r\n              onMouseEnter={(e) => (e.currentTarget.style.background = \"#f1f8ff\")}\r\n              onMouseLeave={(e) => (e.currentTarget.style.background = \"transparent\")}\r\n            >\r\n              <h3 style={{ color: \"#1976d2\", fontWeight: \"600\" }}>\r\n                Stop {i + 1}: {poi.name}\r\n              </h3>\r\n              <p style={{ color: \"#444\" }}>{poi.description}</p>\r\n              {poi.image && (\r\n                <img\r\n                  src={`http://localhost:5000/images/${poi.image}`}\r\n                  alt={poi.name}\r\n                  style={{\r\n                    width: \"100%\",\r\n                    maxWidth: \"280px\",\r\n                    borderRadius: \"10px\",\r\n                    boxShadow: \"0 6px 12px rgba(0,0,0,0.1)\",\r\n                    marginBottom: \"8px\",\r\n                  }}\r\n                />\r\n              )}\r\n              <p style={{ margin: \"6px 0\" }}>\r\n                <strong>Visitors:</strong> {poi.visitors || \"N/A\"} <br />\r\n                <strong>Tags:</strong> {poi.tags || \"None\"}\r\n              </p>\r\n              {seg && (\r\n                <p style={{ margin: 0 }}>\r\n                  <strong>To next stop:</strong> {formatDistance(seg.summary.distance)},{\" \"}\r\n                  {formatDuration(seg.summary.duration)}\r\n                </p>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        {/* üíæ Save Button (hide if finished/cancelled) */}\r\n        {status === \"pending\" && (\r\n          <button\r\n            onClick={handleSaveItinerary}\r\n            disabled={saving}\r\n            style={{\r\n              width: \"100%\",\r\n              padding: \"12px 20px\",\r\n              background: saving ? \"#ccc\" : \"#1976d2\",\r\n              color: \"#fff\",\r\n              border: \"none\",\r\n              borderRadius: \"8px\",\r\n              fontWeight: \"600\",\r\n              cursor: \"pointer\",\r\n              marginTop: \"12px\",\r\n            }}\r\n          >\r\n            {saving ? \"Saving...\" : \"üíæ Save This Route\"}\r\n          </button>\r\n        )}\r\n\r\n        {saveMessage && (\r\n          <p style={{ marginTop: \"10px\", textAlign: \"center\", color: \"#1565c0\" }}>\r\n            {saveMessage}\r\n          </p>\r\n        )}\r\n\r\n        <button\r\n          onClick={() => navigate(\"/home\")}\r\n          style={{\r\n            width: \"100%\",\r\n            padding: \"12px 20px\",\r\n            background: \"#4caf50\",\r\n            color: \"#fff\",\r\n            border: \"none\",\r\n            borderRadius: \"8px\",\r\n            fontWeight: \"600\",\r\n            cursor: \"pointer\",\r\n            marginTop: \"10px\",\r\n          }}\r\n        >\r\n          Back to Home\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}