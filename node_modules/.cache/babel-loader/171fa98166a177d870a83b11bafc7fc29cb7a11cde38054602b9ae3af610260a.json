{"ast":null,"code":"var _jsxFileName = \"E:\\\\IT\\\\xampp\\\\htdocs\\\\Majayjay Tourism Circuit\\\\src\\\\pages\\\\MapPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/pages/MapPage.js\nimport { useEffect, useState } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport Papa from \"papaparse\";\nimport spotsCSV from \"../data/spots.csv\";\nimport L from \"leaflet\";\n\n// Fix marker icon issue\nimport iconUrl from \"leaflet/dist/images/marker-icon.png\";\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DefaultIcon = L.icon({\n  iconUrl,\n  shadowUrl: iconShadow,\n  iconSize: [25, 41],\n  iconAnchor: [12, 41]\n});\nL.Marker.prototype.options.icon = DefaultIcon;\n\n// Auto fit bounds\nfunction FitBounds({\n  spots\n}) {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (spots.length) {\n      const bounds = spots.map(s => [s.lat, s.lng]);\n      map.fitBounds(bounds, {\n        padding: [50, 50]\n      });\n    }\n  }, [spots, map]);\n  return null;\n}\n_s(FitBounds, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = FitBounds;\nexport default function MapPage() {\n  _s2();\n  const [spots, setSpots] = useState([]);\n  useEffect(() => {\n    Papa.parse(\"/data/spots.csv\", {\n      download: true,\n      header: true,\n      skipEmptyLines: true,\n      complete: res => {\n        const rows = res.data.filter(r => r.name && r.lat && r.lng).map(r => ({\n          name: r.name,\n          lat: parseFloat(r.lat),\n          lng: parseFloat(r.lng),\n          description: r.description || \"No description available.\",\n          tags: (r.tags || \"\").split(\",\").map(t => t.trim()).filter(Boolean),\n          visitors: r.visitors || \"Moderate\",\n          image: r.image ? `/images/${r.image}` : null\n        }));\n        setSpots(rows);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full h-screen\",\n    children: /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [14.1461, 121.4944] // fallback\n      ,\n      zoom: 13,\n      style: {\n        height: \"100%\",\n        width: \"100%\"\n      } // ðŸ‘ˆ important\n      ,\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 OpenStreetMap contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), spots.map((spot, idx) => {\n        var _spot$tags;\n        return /*#__PURE__*/_jsxDEV(Marker, {\n          position: [spot.lat, spot.lng],\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"font-bold text-lg\",\n                children: spot.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), spot.image && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: spot.image,\n                alt: spot.name,\n                className: \"w-40 h-28 object-cover mx-auto my-2 rounded-lg shadow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: spot.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this), ((_spot$tags = spot.tags) === null || _spot$tags === void 0 ? void 0 : _spot$tags.length) > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1\",\n                children: [\"Tags: \", spot.tags.join(\", \")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-blue-500\",\n                children: [\"Visitors: \", spot.visitors]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(FitBounds, {\n        spots: spots\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s2(MapPage, \"IspMLUsrmhiQLYJw37vhAw4qcAc=\");\n_c2 = MapPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"FitBounds\");\n$RefreshReg$(_c2, \"MapPage\");","map":{"version":3,"names":["useEffect","useState","MapContainer","TileLayer","Marker","Popup","useMap","Papa","spotsCSV","L","iconUrl","iconShadow","jsxDEV","_jsxDEV","DefaultIcon","icon","shadowUrl","iconSize","iconAnchor","prototype","options","FitBounds","spots","_s","map","length","bounds","s","lat","lng","fitBounds","padding","_c","MapPage","_s2","setSpots","parse","download","header","skipEmptyLines","complete","res","rows","data","filter","r","name","parseFloat","description","tags","split","t","trim","Boolean","visitors","image","className","children","center","zoom","style","height","width","url","attribution","fileName","_jsxFileName","lineNumber","columnNumber","spot","idx","_spot$tags","position","src","alt","join","_c2","$RefreshReg$"],"sources":["E:/IT/xampp/htdocs/Majayjay Tourism Circuit/src/pages/MapPage.js"],"sourcesContent":["// src/pages/MapPage.js\r\nimport { useEffect, useState } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport Papa from \"papaparse\";\r\nimport spotsCSV from \"../data/spots.csv\";\r\nimport L from \"leaflet\";\r\n\r\n// Fix marker icon issue\r\nimport iconUrl from \"leaflet/dist/images/marker-icon.png\";\r\nimport iconShadow from \"leaflet/dist/images/marker-shadow.png\";\r\n\r\nconst DefaultIcon = L.icon({\r\n  iconUrl,\r\n  shadowUrl: iconShadow,\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n});\r\nL.Marker.prototype.options.icon = DefaultIcon;\r\n\r\n// Auto fit bounds\r\nfunction FitBounds({ spots }) {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    if (spots.length) {\r\n      const bounds = spots.map((s) => [s.lat, s.lng]);\r\n      map.fitBounds(bounds, { padding: [50, 50] });\r\n    }\r\n  }, [spots, map]);\r\n  return null;\r\n}\r\n\r\nexport default function MapPage() {\r\n  const [spots, setSpots] = useState([]);\r\n\r\nuseEffect(() => {\r\n  Papa.parse(\"/data/spots.csv\", {\r\n    download: true,\r\n    header: true,\r\n    skipEmptyLines: true,\r\n    complete: (res) => {\r\n      const rows = res.data\r\n        .filter((r) => r.name && r.lat && r.lng)\r\n        .map((r) => ({\r\n          name: r.name,\r\n          lat: parseFloat(r.lat),\r\n          lng: parseFloat(r.lng),\r\n          description: r.description || \"No description available.\",\r\n          tags: (r.tags || \"\")\r\n            .split(\",\")\r\n            .map((t) => t.trim())\r\n            .filter(Boolean),\r\n          visitors: r.visitors || \"Moderate\",\r\n          image: r.image ? `/images/${r.image}` : null,\r\n        }));\r\n      setSpots(rows);\r\n    },\r\n  });\r\n}, []);\r\n\r\n  return (\r\n    <div className=\"w-full h-screen\">\r\n      {/* Make sure MapContainer has explicit height */}\r\n      <MapContainer\r\n        center={[14.1461, 121.4944]} // fallback\r\n        zoom={13}\r\n        style={{ height: \"100%\", width: \"100%\" }} // ðŸ‘ˆ important\r\n      >\r\n        <TileLayer\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          attribution=\"&copy; OpenStreetMap contributors\"\r\n        />\r\n\r\n        {spots.map((spot, idx) => (\r\n          <Marker key={idx} position={[spot.lat, spot.lng]}>\r\n            <Popup>\r\n              <div className=\"text-center\">\r\n                <h2 className=\"font-bold text-lg\">{spot.name}</h2>\r\n                {spot.image && (\r\n                  <img\r\n                    src={spot.image}\r\n                    alt={spot.name}\r\n                    className=\"w-40 h-28 object-cover mx-auto my-2 rounded-lg shadow\"\r\n                  />\r\n                )}\r\n                <p className=\"text-sm\">{spot.description}</p>\r\n                {spot.tags?.length > 0 && (\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    Tags: {spot.tags.join(\", \")}\r\n                  </p>\r\n                )}\r\n                <p className=\"text-xs text-blue-500\">\r\n                  Visitors: {spot.visitors}\r\n                </p>\r\n              </div>\r\n            </Popup>\r\n          </Marker>\r\n        ))}\r\n\r\n        <FitBounds spots={spots} />\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}