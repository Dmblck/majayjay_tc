{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Majayjay Tourism Circuit\\\\src\\\\pages\\\\RouteDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RouteDetails() {\n  _s();\n  var _location$state, _location$state2;\n  const location = useLocation();\n  const navigate = useNavigate();\n  const routeSpots = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.itinerary) || [];\n  const [segments, setSegments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [poiDetails, setPoiDetails] = useState([]);\n  const [saving, setSaving] = useState(false);\n  const [saveMessage, setSaveMessage] = useState(\"\");\n  const [status, setStatus] = useState(\"pending\");\n  const [savedItineraryId, setSavedItineraryId] = useState(null);\n  const [userLocation, setUserLocation] = useState(null);\n  const mapRef = useRef(null);\n  const ORS_API_KEY = \"eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6ImJhNWU3NmIxOTRmMzQyYTg4NzY4MDc2MzVmZDY1ZDRhIiwiaCI6Im11cm11cjY0In0=\";\n\n  // Track user live location\n  useEffect(() => {\n    if (!(\"geolocation\" in navigator)) {\n      setUserLocation({\n        lat: 14.1461,\n        lng: 121.5012\n      });\n      return;\n    }\n    const watchId = navigator.geolocation.watchPosition(pos => {\n      const loc = {\n        lat: pos.coords.latitude,\n        lng: pos.coords.longitude\n      };\n      setUserLocation(loc);\n      if (mapRef.current) {\n        try {\n          mapRef.current.setView([loc.lat, loc.lng], 14, {\n            animate: true\n          });\n        } catch {}\n      }\n    }, err => {\n      console.warn(\"Geolocation error:\", err.message);\n      setUserLocation({\n        lat: 14.1461,\n        lng: 121.5012\n      });\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 0\n    });\n    return () => navigator.geolocation.clearWatch(watchId);\n  }, []);\n  const fetchRouteSegment = async (from, to) => {\n    try {\n      var _data$features;\n      const res = await fetch(`https://api.openrouteservice.org/v2/directions/driving-car`, {\n        method: \"POST\",\n        headers: {\n          Authorization: ORS_API_KEY,\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          coordinates: [[from.lng, from.lat], [to.lng, to.lat]]\n        })\n      });\n      const data = await res.json();\n      if (!((_data$features = data.features) !== null && _data$features !== void 0 && _data$features.length)) return [];\n      return data.features[0].geometry.coordinates.map(([lng, lat]) => [lat, lng]);\n    } catch (err) {\n      console.error(\"ORS fetch error:\", err);\n      return [];\n    }\n  };\n  const fetchPOIDetails = async (lat, lng) => {\n    try {\n      const res = await fetch(`http://localhost:5000/api/pois`);\n      if (!res.ok) throw new Error(\"POI fetch failed\");\n      const data = await res.json();\n      return data.filter(p => Math.abs(p.lat - lat) < 0.01 && Math.abs(p.lng - lng) < 0.01);\n    } catch {\n      return [];\n    }\n  };\n\n  // Load route and POIs\n  useEffect(() => {\n    let cancelled = false;\n    const loadData = async () => {\n      if (!userLocation) return;\n      setLoading(true);\n      const points = [userLocation, ...routeSpots];\n      const newSegments = [];\n      for (let i = 0; i < points.length - 1; i++) {\n        if (cancelled) return;\n        const coords = await fetchRouteSegment(points[i], points[i + 1]);\n        newSegments.push(coords);\n      }\n      if (cancelled) return;\n      setSegments(newSegments);\n      const poiFetches = await Promise.all(routeSpots.map(s => fetchPOIDetails(s.lat, s.lng)));\n      if (cancelled) return;\n      setPoiDetails(poiFetches.flat());\n      setLoading(false);\n    };\n    loadData();\n    return () => {\n      cancelled = true;\n    };\n  }, [userLocation, routeSpots]);\n  const saveItinerary = async () => {\n    setSaving(true);\n    const token = localStorage.getItem(\"token\");\n    const storedUser = JSON.parse(localStorage.getItem(\"user\"));\n    if (!storedUser || !token) {\n      alert(\"Please log in first.\");\n      setSaving(false);\n      return;\n    }\n    try {\n      const res = await fetch(\"http://localhost:5000/api/itineraries\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name: `Trip - ${new Date().toLocaleString()}`,\n          route_data: routeSpots\n        })\n      });\n      const data = await res.json();\n      if (res.ok && data.success) {\n        setSaveMessage(\"Itinerary saved successfully!\");\n        setStatus(\"saved\");\n        setSavedItineraryId(data.itinerary.id);\n      } else {\n        setSaveMessage(\"Failed to save itinerary.\");\n      }\n    } catch (err) {\n      console.error(err);\n      setSaveMessage(\"Error saving itinerary.\");\n    }\n    setSaving(false);\n    setTimeout(() => setSaveMessage(\"\"), 3000);\n  };\n  const updateStatus = async newStatus => {\n    if (!savedItineraryId) {\n      alert(\"Please save the itinerary first before updating status.\");\n      return;\n    }\n    const token = localStorage.getItem(\"token\");\n    try {\n      const res = await fetch(`http://localhost:5000/api/itineraries/${savedItineraryId}/status`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          status: newStatus\n        })\n      });\n      const data = await res.json();\n      if (res.ok && data.success) {\n        setStatus(newStatus);\n        setSaveMessage(`Itinerary ${newStatus} successfully.`);\n      } else {\n        setSaveMessage(\"Failed to update status.\");\n      }\n    } catch (err) {\n      setSaveMessage(\"Error updating itinerary status.\");\n    }\n    setTimeout(() => setSaveMessage(\"\"), 3000);\n  };\n  const userIcon = new L.Icon({\n    iconUrl: \"https://cdn-icons-png.flaticon.com/512/149/149060.png\",\n    iconSize: [32, 32]\n  });\n  const poiIcon = new L.Icon({\n    iconUrl: \"https://cdn-icons-png.flaticon.com/512/854/854878.png\",\n    iconSize: [28, 28]\n  });\n  if (!userLocation) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      marginTop: 50\n    },\n    children: \"Loading location...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 12\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      height: \"100vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: [userLocation.lat, userLocation.lng],\n        zoom: 13,\n        style: {\n          height: \"100%\",\n          width: \"100%\"\n        },\n        whenCreated: map => mapRef.current = map,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: [userLocation.lat, userLocation.lng],\n          icon: userIcon,\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"You are here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this), \"Latitude: \", userLocation.lat.toFixed(5), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 57\n              }, this), \"Longitude: \", userLocation.lng.toFixed(5)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), routeSpots.map((spot, i) => {\n          var _poiDetails$find;\n          return /*#__PURE__*/_jsxDEV(Marker, {\n            position: [spot.lat, spot.lng],\n            icon: poiIcon,\n            children: /*#__PURE__*/_jsxDEV(Popup, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: spot.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: 4,\n                    fontSize: 13,\n                    color: \"#444\"\n                  },\n                  children: ((_poiDetails$find = poiDetails.find(p => p.name === spot.name)) === null || _poiDetails$find === void 0 ? void 0 : _poiDetails$find.description) || \"No details available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this);\n        }), segments.map((seg, i) => /*#__PURE__*/_jsxDEV(Polyline, {\n          positions: seg,\n          color: \"blue\",\n          weight: 4\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        padding: 20,\n        overflowY: \"auto\",\n        background: \"#f5f5f5\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Itinerary Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Mode:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), \" \", ((_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.transportMode) || \"Driving\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: status === \"finished\" ? \"green\" : status === \"cancelled\" ? \"red\" : \"#333\"\n          },\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Stops:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        children: routeSpots.map((spot, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: spot.name\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveItinerary,\n        disabled: saving || status !== \"pending\",\n        style: {\n          padding: \"10px 20px\",\n          background: status !== \"pending\" ? \"#4caf50\" : \"#2196f3\",\n          color: \"#fff\",\n          border: \"none\",\n          borderRadius: 6,\n          cursor: \"pointer\",\n          width: \"100%\",\n          marginTop: 12\n        },\n        children: saving ? \"Saving...\" : status !== \"pending\" ? \"Saved\" : \"Save Itinerary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), status === \"pending\" && savedItineraryId && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateStatus(\"finished\"),\n          style: {\n            padding: \"10px 20px\",\n            background: \"#4caf50\",\n            color: \"#fff\",\n            border: \"none\",\n            borderRadius: 6,\n            cursor: \"pointer\",\n            width: \"100%\",\n            marginTop: 10\n          },\n          children: \"Finish Trip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateStatus(\"cancelled\"),\n          style: {\n            padding: \"10px 20px\",\n            background: \"#f44336\",\n            color: \"#fff\",\n            border: \"none\",\n            borderRadius: 6,\n            cursor: \"pointer\",\n            width: \"100%\",\n            marginTop: 10\n          },\n          children: \"Cancel Trip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), saveMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"center\",\n          color: \"#333\"\n        },\n        children: saveMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/\"),\n        style: {\n          padding: \"10px 20px\",\n          background: \"#aaa\",\n          color: \"#fff\",\n          border: \"none\",\n          borderRadius: 6,\n          cursor: \"pointer\",\n          width: \"100%\",\n          marginTop: 10\n        },\n        children: \"Back to Planner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n}\n_s(RouteDetails, \"wR+9mPpEIvDPeFheYWOz88TiygQ=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = RouteDetails;\nvar _c;\n$RefreshReg$(_c, \"RouteDetails\");","map":{"version":3,"names":["React","useEffect","useState","useRef","MapContainer","TileLayer","Marker","Popup","Polyline","L","useNavigate","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","RouteDetails","_s","_location$state","_location$state2","location","navigate","routeSpots","state","itinerary","segments","setSegments","loading","setLoading","poiDetails","setPoiDetails","saving","setSaving","saveMessage","setSaveMessage","status","setStatus","savedItineraryId","setSavedItineraryId","userLocation","setUserLocation","mapRef","ORS_API_KEY","navigator","lat","lng","watchId","geolocation","watchPosition","pos","loc","coords","latitude","longitude","current","setView","animate","err","console","warn","message","enableHighAccuracy","timeout","maximumAge","clearWatch","fetchRouteSegment","from","to","_data$features","res","fetch","method","headers","Authorization","body","JSON","stringify","coordinates","data","json","features","length","geometry","map","error","fetchPOIDetails","ok","Error","filter","p","Math","abs","cancelled","loadData","points","newSegments","i","push","poiFetches","Promise","all","s","flat","saveItinerary","token","localStorage","getItem","storedUser","parse","alert","name","Date","toLocaleString","route_data","success","id","setTimeout","updateStatus","newStatus","userIcon","Icon","iconUrl","iconSize","poiIcon","style","textAlign","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","display","height","flex","center","zoom","width","whenCreated","url","position","icon","toFixed","spot","_poiDetails$find","margin","fontSize","color","find","description","seg","positions","weight","padding","overflowY","background","transportMode","onClick","disabled","border","borderRadius","cursor","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/Majayjay Tourism Circuit/src/pages/RouteDetails.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nexport default function RouteDetails() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const routeSpots = location.state?.itinerary || [];\r\n  const [segments, setSegments] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [poiDetails, setPoiDetails] = useState([]);\r\n  const [saving, setSaving] = useState(false);\r\n  const [saveMessage, setSaveMessage] = useState(\"\");\r\n  const [status, setStatus] = useState(\"pending\");\r\n  const [savedItineraryId, setSavedItineraryId] = useState(null);\r\n  const [userLocation, setUserLocation] = useState(null);\r\n  const mapRef = useRef(null);\r\n\r\n  const ORS_API_KEY =\r\n    \"eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6ImJhNWU3NmIxOTRmMzQyYTg4NzY4MDc2MzVmZDY1ZDRhIiwiaCI6Im11cm11cjY0In0=\";\r\n\r\n  // Track user live location\r\n  useEffect(() => {\r\n    if (!(\"geolocation\" in navigator)) {\r\n      setUserLocation({ lat: 14.1461, lng: 121.5012 });\r\n      return;\r\n    }\r\n    const watchId = navigator.geolocation.watchPosition(\r\n      (pos) => {\r\n        const loc = { lat: pos.coords.latitude, lng: pos.coords.longitude };\r\n        setUserLocation(loc);\r\n        if (mapRef.current) {\r\n          try {\r\n            mapRef.current.setView([loc.lat, loc.lng], 14, { animate: true });\r\n          } catch {}\r\n        }\r\n      },\r\n      (err) => {\r\n        console.warn(\"Geolocation error:\", err.message);\r\n        setUserLocation({ lat: 14.1461, lng: 121.5012 });\r\n      },\r\n      { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }\r\n    );\r\n    return () => navigator.geolocation.clearWatch(watchId);\r\n  }, []);\r\n\r\n  const fetchRouteSegment = async (from, to) => {\r\n    try {\r\n      const res = await fetch(`https://api.openrouteservice.org/v2/directions/driving-car`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: ORS_API_KEY,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ coordinates: [[from.lng, from.lat], [to.lng, to.lat]] }),\r\n      });\r\n      const data = await res.json();\r\n      if (!data.features?.length) return [];\r\n      return data.features[0].geometry.coordinates.map(([lng, lat]) => [lat, lng]);\r\n    } catch (err) {\r\n      console.error(\"ORS fetch error:\", err);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  const fetchPOIDetails = async (lat, lng) => {\r\n    try {\r\n      const res = await fetch(`http://localhost:5000/api/pois`);\r\n      if (!res.ok) throw new Error(\"POI fetch failed\");\r\n      const data = await res.json();\r\n      return data.filter(\r\n        (p) => Math.abs(p.lat - lat) < 0.01 && Math.abs(p.lng - lng) < 0.01\r\n      );\r\n    } catch {\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // Load route and POIs\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    const loadData = async () => {\r\n      if (!userLocation) return;\r\n      setLoading(true);\r\n      const points = [userLocation, ...routeSpots];\r\n      const newSegments = [];\r\n      for (let i = 0; i < points.length - 1; i++) {\r\n        if (cancelled) return;\r\n        const coords = await fetchRouteSegment(points[i], points[i + 1]);\r\n        newSegments.push(coords);\r\n      }\r\n      if (cancelled) return;\r\n      setSegments(newSegments);\r\n\r\n      const poiFetches = await Promise.all(routeSpots.map((s) => fetchPOIDetails(s.lat, s.lng)));\r\n      if (cancelled) return;\r\n      setPoiDetails(poiFetches.flat());\r\n      setLoading(false);\r\n    };\r\n    loadData();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [userLocation, routeSpots]);\r\n\r\n  const saveItinerary = async () => {\r\n    setSaving(true);\r\n    const token = localStorage.getItem(\"token\");\r\n    const storedUser = JSON.parse(localStorage.getItem(\"user\"));\r\n    if (!storedUser || !token) {\r\n      alert(\"Please log in first.\");\r\n      setSaving(false);\r\n      return;\r\n    }\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/itineraries\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          name: `Trip - ${new Date().toLocaleString()}`,\r\n          route_data: routeSpots,\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok && data.success) {\r\n        setSaveMessage(\"Itinerary saved successfully!\");\r\n        setStatus(\"saved\");\r\n        setSavedItineraryId(data.itinerary.id);\r\n      } else {\r\n        setSaveMessage(\"Failed to save itinerary.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setSaveMessage(\"Error saving itinerary.\");\r\n    }\r\n    setSaving(false);\r\n    setTimeout(() => setSaveMessage(\"\"), 3000);\r\n  };\r\n\r\n  const updateStatus = async (newStatus) => {\r\n    if (!savedItineraryId) {\r\n      alert(\"Please save the itinerary first before updating status.\");\r\n      return;\r\n    }\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await fetch(\r\n        `http://localhost:5000/api/itineraries/${savedItineraryId}/status`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify({ status: newStatus }),\r\n        }\r\n      );\r\n      const data = await res.json();\r\n      if (res.ok && data.success) {\r\n        setStatus(newStatus);\r\n        setSaveMessage(`Itinerary ${newStatus} successfully.`);\r\n      } else {\r\n        setSaveMessage(\"Failed to update status.\");\r\n      }\r\n    } catch (err) {\r\n      setSaveMessage(\"Error updating itinerary status.\");\r\n    }\r\n    setTimeout(() => setSaveMessage(\"\"), 3000);\r\n  };\r\n\r\n  const userIcon = new L.Icon({\r\n    iconUrl: \"https://cdn-icons-png.flaticon.com/512/149/149060.png\",\r\n    iconSize: [32, 32],\r\n  });\r\n\r\n  const poiIcon = new L.Icon({\r\n    iconUrl: \"https://cdn-icons-png.flaticon.com/512/854/854878.png\",\r\n    iconSize: [28, 28],\r\n  });\r\n\r\n  if (!userLocation)\r\n    return <div style={{ textAlign: \"center\", marginTop: 50 }}>Loading location...</div>;\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", height: \"100vh\" }}>\r\n      <div style={{ flex: 3 }}>\r\n        <MapContainer\r\n          center={[userLocation.lat, userLocation.lng]}\r\n          zoom={13}\r\n          style={{ height: \"100%\", width: \"100%\" }}\r\n          whenCreated={(map) => (mapRef.current = map)}\r\n        >\r\n          <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n\r\n          {/* Current location marker */}\r\n          <Marker position={[userLocation.lat, userLocation.lng]} icon={userIcon}>\r\n            <Popup>\r\n              <div style={{ textAlign: \"center\" }}>\r\n                <b>You are here</b>\r\n                <br />\r\n                Latitude: {userLocation.lat.toFixed(5)} <br />\r\n                Longitude: {userLocation.lng.toFixed(5)}\r\n              </div>\r\n            </Popup>\r\n          </Marker>\r\n\r\n          {/* Spots */}\r\n          {routeSpots.map((spot, i) => (\r\n            <Marker key={i} position={[spot.lat, spot.lng]} icon={poiIcon}>\r\n              <Popup>\r\n                <div style={{ textAlign: \"center\" }}>\r\n                  <b>{spot.name}</b>\r\n                  <p style={{ margin: 4, fontSize: 13, color: \"#444\" }}>\r\n                    {poiDetails.find((p) => p.name === spot.name)?.description ||\r\n                      \"No details available\"}\r\n                  </p>\r\n                </div>\r\n              </Popup>\r\n            </Marker>\r\n          ))}\r\n\r\n          {/* Lines between points */}\r\n          {segments.map((seg, i) => (\r\n            <Polyline key={i} positions={seg} color=\"blue\" weight={4} />\r\n          ))}\r\n        </MapContainer>\r\n      </div>\r\n\r\n      {/* Right panel */}\r\n      <div style={{ flex: 1, padding: 20, overflowY: \"auto\", background: \"#f5f5f5\" }}>\r\n        <h3 style={{ textAlign: \"center\" }}>Itinerary Details</h3>\r\n        <p>\r\n          <b>Mode:</b> {location.state?.transportMode || \"Driving\"}\r\n        </p>\r\n        <p>\r\n          <b>Status:</b>{\" \"}\r\n          <span\r\n            style={{\r\n              color:\r\n                status === \"finished\"\r\n                  ? \"green\"\r\n                  : status === \"cancelled\"\r\n                  ? \"red\"\r\n                  : \"#333\",\r\n            }}\r\n          >\r\n            {status}\r\n          </span>\r\n        </p>\r\n        <h4>Stops:</h4>\r\n        <ol>\r\n          {routeSpots.map((spot, i) => (\r\n            <li key={i}>{spot.name}</li>\r\n          ))}\r\n        </ol>\r\n\r\n        <button\r\n          onClick={saveItinerary}\r\n          disabled={saving || status !== \"pending\"}\r\n          style={{\r\n            padding: \"10px 20px\",\r\n            background: status !== \"pending\" ? \"#4caf50\" : \"#2196f3\",\r\n            color: \"#fff\",\r\n            border: \"none\",\r\n            borderRadius: 6,\r\n            cursor: \"pointer\",\r\n            width: \"100%\",\r\n            marginTop: 12,\r\n          }}\r\n        >\r\n          {saving ? \"Saving...\" : status !== \"pending\" ? \"Saved\" : \"Save Itinerary\"}\r\n        </button>\r\n\r\n        {status === \"pending\" && savedItineraryId && (\r\n          <>\r\n            <button\r\n              onClick={() => updateStatus(\"finished\")}\r\n              style={{\r\n                padding: \"10px 20px\",\r\n                background: \"#4caf50\",\r\n                color: \"#fff\",\r\n                border: \"none\",\r\n                borderRadius: 6,\r\n                cursor: \"pointer\",\r\n                width: \"100%\",\r\n                marginTop: 10,\r\n              }}\r\n            >\r\n              Finish Trip\r\n            </button>\r\n            <button\r\n              onClick={() => updateStatus(\"cancelled\")}\r\n              style={{\r\n                padding: \"10px 20px\",\r\n                background: \"#f44336\",\r\n                color: \"#fff\",\r\n                border: \"none\",\r\n                borderRadius: 6,\r\n                cursor: \"pointer\",\r\n                width: \"100%\",\r\n                marginTop: 10,\r\n              }}\r\n            >\r\n              Cancel Trip\r\n            </button>\r\n          </>\r\n        )}\r\n\r\n        {saveMessage && <p style={{ textAlign: \"center\", color: \"#333\" }}>{saveMessage}</p>}\r\n\r\n        <button\r\n          onClick={() => navigate(\"/\")}\r\n          style={{\r\n            padding: \"10px 20px\",\r\n            background: \"#aaa\",\r\n            color: \"#fff\",\r\n            border: \"none\",\r\n            borderRadius: 6,\r\n            cursor: \"pointer\",\r\n            width: \"100%\",\r\n            marginTop: 10,\r\n          }}\r\n        >\r\n          Back to Planner\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}