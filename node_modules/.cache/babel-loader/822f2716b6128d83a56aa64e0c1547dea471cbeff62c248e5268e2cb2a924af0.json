{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminML(){const[training,setTraining]=useState(false);const[lastRun,setLastRun]=useState(null);const[accuracy,setAccuracy]=useState(null);const[loss,setLoss]=useState(null);const[topPreferences,setTopPreferences]=useState([]);const startTraining=()=>{setTraining(true);fetch(\"http://localhost:5001/api/ml/train\",{method:\"POST\"}).then(res=>res.json()).then(data=>{setTraining(false);setLastRun(new Date().toLocaleString());if(data.success){setAccuracy(data.accuracy);setLoss(data.loss);setTopPreferences(data.topPreferences||[]);}}).catch(err=>{console.error(err);setTraining(false);});};return/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:\"240px\",padding:\"30px\",fontFamily:\"Segoe UI, sans-serif\",backgroundColor:\"#f9fafb\",minHeight:\"100vh\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#fff\",padding:\"30px\",borderRadius:\"12px\",boxShadow:\"0 4px 12px rgba(0,0,0,0.1)\",maxWidth:\"800px\",margin:\"auto\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:\"20px\",color:\"#1e3a8a\",fontSize:\"28px\",fontWeight:\"700\"},children:\"Machine Learning Module\"}),/*#__PURE__*/_jsx(\"button\",{onClick:startTraining,disabled:training,style:{backgroundColor:training?\"#9ca3af\":\"#2563eb\",color:\"#fff\",border:\"none\",padding:\"12px 24px\",borderRadius:\"8px\",fontSize:\"16px\",cursor:training?\"not-allowed\":\"pointer\",transition:\"background-color 0.2s\"},children:training?\"Training in progress...\":\"Train Model\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"20px\",lineHeight:\"1.8\"},children:[lastRun&&/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"16px\",color:\"#374151\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Last trained:\"}),\" \",lastRun]}),accuracy!==null&&/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"16px\",color:\"#374151\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Accuracy:\"}),\" \",(accuracy*100).toFixed(2),\"%\"]}),loss!==null&&/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"16px\",color:\"#374151\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Loss:\"}),\" \",loss.toFixed(4)]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"30px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:\"20px\",color:\"#111827\",marginBottom:\"10px\"},children:\"Top Preferences\"}),topPreferences.length>0?/*#__PURE__*/_jsx(\"ol\",{style:{background:\"#f3f4f6\",padding:\"20px\",borderRadius:\"8px\",lineHeight:\"1.8\"},children:topPreferences.map((pref,i)=>/*#__PURE__*/_jsx(\"li\",{style:{fontSize:\"16px\",color:\"#1f2937\",padding:\"4px 0\",borderBottom:i!==topPreferences.length-1?\"1px solid #e5e7eb\":\"none\"},children:pref},i))}):/*#__PURE__*/_jsx(\"p\",{style:{color:\"#6b7280\"},children:\"No preferences found.\"})]})]})});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","AdminML","training","setTraining","lastRun","setLastRun","accuracy","setAccuracy","loss","setLoss","topPreferences","setTopPreferences","startTraining","fetch","method","then","res","json","data","Date","toLocaleString","success","catch","err","console","error","style","marginLeft","padding","fontFamily","backgroundColor","minHeight","children","background","borderRadius","boxShadow","maxWidth","margin","marginBottom","color","fontSize","fontWeight","onClick","disabled","border","cursor","transition","marginTop","lineHeight","toFixed","length","map","pref","i","borderBottom"],"sources":["C:/xampp/htdocs/Majayjay Tourism Circuit/src/pages/admin/AdminML.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nexport default function AdminML() {\r\n  const [training, setTraining] = useState(false);\r\n  const [lastRun, setLastRun] = useState(null);\r\n  const [accuracy, setAccuracy] = useState(null);\r\n  const [loss, setLoss] = useState(null);\r\n  const [topPreferences, setTopPreferences] = useState([]);\r\n\r\n  const startTraining = () => {\r\n    setTraining(true);\r\n\r\n    fetch(\"http://localhost:5001/api/ml/train\", { method: \"POST\" })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setTraining(false);\r\n        setLastRun(new Date().toLocaleString());\r\n        if (data.success) {\r\n          setAccuracy(data.accuracy);\r\n          setLoss(data.loss);\r\n          setTopPreferences(data.topPreferences || []);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        setTraining(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        marginLeft: \"240px\",\r\n        padding: \"30px\",\r\n        fontFamily: \"Segoe UI, sans-serif\",\r\n        backgroundColor: \"#f9fafb\",\r\n        minHeight: \"100vh\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          background: \"#fff\",\r\n          padding: \"30px\",\r\n          borderRadius: \"12px\",\r\n          boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\r\n          maxWidth: \"800px\",\r\n          margin: \"auto\",\r\n        }}\r\n      >\r\n        <h2\r\n          style={{\r\n            marginBottom: \"20px\",\r\n            color: \"#1e3a8a\",\r\n            fontSize: \"28px\",\r\n            fontWeight: \"700\",\r\n          }}\r\n        >\r\n          Machine Learning Module\r\n        </h2>\r\n\r\n        <button\r\n          onClick={startTraining}\r\n          disabled={training}\r\n          style={{\r\n            backgroundColor: training ? \"#9ca3af\" : \"#2563eb\",\r\n            color: \"#fff\",\r\n            border: \"none\",\r\n            padding: \"12px 24px\",\r\n            borderRadius: \"8px\",\r\n            fontSize: \"16px\",\r\n            cursor: training ? \"not-allowed\" : \"pointer\",\r\n            transition: \"background-color 0.2s\",\r\n          }}\r\n        >\r\n          {training ? \"Training in progress...\" : \"Train Model\"}\r\n        </button>\r\n\r\n        <div style={{ marginTop: \"20px\", lineHeight: \"1.8\" }}>\r\n          {lastRun && (\r\n            <p style={{ fontSize: \"16px\", color: \"#374151\" }}>\r\n              <strong>Last trained:</strong> {lastRun}\r\n            </p>\r\n          )}\r\n          {accuracy !== null && (\r\n            <p style={{ fontSize: \"16px\", color: \"#374151\" }}>\r\n              <strong>Accuracy:</strong> {(accuracy * 100).toFixed(2)}%\r\n            </p>\r\n          )}\r\n          {loss !== null && (\r\n            <p style={{ fontSize: \"16px\", color: \"#374151\" }}>\r\n              <strong>Loss:</strong> {loss.toFixed(4)}\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <div style={{ marginTop: \"30px\" }}>\r\n          <h3\r\n            style={{\r\n              fontSize: \"20px\",\r\n              color: \"#111827\",\r\n              marginBottom: \"10px\",\r\n            }}\r\n          >\r\n            Top Preferences\r\n          </h3>\r\n          {topPreferences.length > 0 ? (\r\n            <ol\r\n              style={{\r\n                background: \"#f3f4f6\",\r\n                padding: \"20px\",\r\n                borderRadius: \"8px\",\r\n                lineHeight: \"1.8\",\r\n              }}\r\n            >\r\n              {topPreferences.map((pref, i) => (\r\n                <li\r\n                  key={i}\r\n                  style={{\r\n                    fontSize: \"16px\",\r\n                    color: \"#1f2937\",\r\n                    padding: \"4px 0\",\r\n                    borderBottom:\r\n                      i !== topPreferences.length - 1\r\n                        ? \"1px solid #e5e7eb\"\r\n                        : \"none\",\r\n                  }}\r\n                >\r\n                  {pref}\r\n                </li>\r\n              ))}\r\n            </ol>\r\n          ) : (\r\n            <p style={{ color: \"#6b7280\" }}>No preferences found.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}