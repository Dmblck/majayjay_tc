{"ast":null,"code":"const ORS_API_KEY = process.env.REACT_APP_ORS_KEY;\nexport async function getRouteInfo(points, transportMode = \"driving-car\") {\n  if (!ORS_API_KEY) throw new Error(\"ORS API key is missing.\");\n  const coords = points.map(p => [p.lng, p.lat]);\n  const body = {\n    coordinates: coords,\n    format: \"geojson\",\n    instructions: false\n  };\n  const response = await fetch(`https://api.openrouteservice.org/v2/directions/${transportMode}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: ORS_API_KEY\n    },\n    body: JSON.stringify(body)\n  });\n  if (!response.ok) throw new Error(\"Routing failed\");\n  const data = await response.json();\n  const geometry = data.features[0].geometry.coordinates;\n  const path = geometry.map(([lng, lat]) => ({\n    lat,\n    lng\n  }));\n  const centerIndex = Math.floor(path.length / 2);\n  const center = path[centerIndex];\n  return {\n    path,\n    center,\n    waypoints: points\n  };\n}","map":{"version":3,"names":["ORS_API_KEY","process","env","REACT_APP_ORS_KEY","getRouteInfo","points","transportMode","Error","coords","map","p","lng","lat","body","coordinates","format","instructions","response","fetch","method","headers","Authorization","JSON","stringify","ok","data","json","geometry","features","path","centerIndex","Math","floor","length","center","waypoints"],"sources":["C:/xampp/htdocs/Majayjay Tourism Circuit/src/services/orsService.js"],"sourcesContent":["const ORS_API_KEY = process.env.REACT_APP_ORS_KEY;\r\n\r\nexport async function getRouteInfo(points, transportMode = \"driving-car\") {\r\n  if (!ORS_API_KEY) throw new Error(\"ORS API key is missing.\");\r\n\r\n  const coords = points.map((p) => [p.lng, p.lat]);\r\n  const body = {\r\n    coordinates: coords,\r\n    format: \"geojson\",\r\n    instructions: false,\r\n  };\r\n\r\n  const response = await fetch(`https://api.openrouteservice.org/v2/directions/${transportMode}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: ORS_API_KEY,\r\n    },\r\n    body: JSON.stringify(body),\r\n  });\r\n\r\n  if (!response.ok) throw new Error(\"Routing failed\");\r\n  const data = await response.json();\r\n\r\n  const geometry = data.features[0].geometry.coordinates;\r\n  const path = geometry.map(([lng, lat]) => ({ lat, lng }));\r\n\r\n  const centerIndex = Math.floor(path.length / 2);\r\n  const center = path[centerIndex];\r\n\r\n  return {\r\n    path,\r\n    center,\r\n    waypoints: points,\r\n  };\r\n}"],"mappings":"AAAA,MAAMA,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAEjD,OAAO,eAAeC,YAAYA,CAACC,MAAM,EAAEC,aAAa,GAAG,aAAa,EAAE;EACxE,IAAI,CAACN,WAAW,EAAE,MAAM,IAAIO,KAAK,CAAC,yBAAyB,CAAC;EAE5D,MAAMC,MAAM,GAAGH,MAAM,CAACI,GAAG,CAAEC,CAAC,IAAK,CAACA,CAAC,CAACC,GAAG,EAAED,CAAC,CAACE,GAAG,CAAC,CAAC;EAChD,MAAMC,IAAI,GAAG;IACXC,WAAW,EAAEN,MAAM;IACnBO,MAAM,EAAE,SAAS;IACjBC,YAAY,EAAE;EAChB,CAAC;EAED,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kDAAkDZ,aAAa,EAAE,EAAE;IAC9Fa,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAErB;IACjB,CAAC;IACDa,IAAI,EAAES,IAAI,CAACC,SAAS,CAACV,IAAI;EAC3B,CAAC,CAAC;EAEF,IAAI,CAACI,QAAQ,CAACO,EAAE,EAAE,MAAM,IAAIjB,KAAK,CAAC,gBAAgB,CAAC;EACnD,MAAMkB,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;EAElC,MAAMC,QAAQ,GAAGF,IAAI,CAACG,QAAQ,CAAC,CAAC,CAAC,CAACD,QAAQ,CAACb,WAAW;EACtD,MAAMe,IAAI,GAAGF,QAAQ,CAAClB,GAAG,CAAC,CAAC,CAACE,GAAG,EAAEC,GAAG,CAAC,MAAM;IAAEA,GAAG;IAAED;EAAI,CAAC,CAAC,CAAC;EAEzD,MAAMmB,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAACI,MAAM,GAAG,CAAC,CAAC;EAC/C,MAAMC,MAAM,GAAGL,IAAI,CAACC,WAAW,CAAC;EAEhC,OAAO;IACLD,IAAI;IACJK,MAAM;IACNC,SAAS,EAAE9B;EACb,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}